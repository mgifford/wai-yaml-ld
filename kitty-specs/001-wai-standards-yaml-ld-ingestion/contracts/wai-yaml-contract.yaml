contract_version: 1
name: wai-yaml-ingestion-contract
scope: project_files
schema_registry:
  standards_index_schema: ../../../schemas/w3c-wai-standards.schema.json
  informative_catalog_schema: ../../../schemas/w3c-wai-informative-resources.schema.json
  aria_informative_schema: ../../../schemas/wai-aria-informative.schema.json
  crosswalk_schema: ../../../schemas/atag-to-wcag-2.2-crosswalk.schema.json
  standards_link_graph_schema: ../../../schemas/standards-link-graph.schema.json
  accessibility_rule_catalogs_schema: ../../../schemas/accessibility-rule-catalogs.schema.json
artifacts:
  standards_index:
    path: research/w3c-wai-standards.yaml
    required_top_level_fields:
      - project
      - owner
      - updated
      - sources
      - primary_wcag_version
      - wcag_version_policy
    source_required_fields:
      - id
      - name
      - url
      - type
      - format_hint
  informative_catalog:
    path: research/w3c-wai-informative-resources.yaml
    required_top_level_fields:
      - project
      - updated
      - scope
      - resources
    resource_required_fields:
      - id
      - title
      - url
      - type
  aria_informative_catalog:
    path: research/wai-aria-informative.yaml
    required_top_level_fields:
      - standard_id
      - name
      - updated
      - scope
      - tr_primary
      - informative_resources
  crosswalk:
    path: research/atag-to-wcag-2.2-crosswalk.yaml
    required_behaviors:
      - explicit_wcag_4_1_1_exception
      - machine_readable_profile_targets
      - mapping_count_matches_mapping_entries
  standards_link_graph:
    path: research/standards-link-graph.yaml
    required_top_level_fields:
      - graph_id
      - name
      - version
      - updated
      - nodes
      - edges
    node_required_fields:
      - id
      - label
      - kind
      - url
    edge_required_fields:
      - id
      - from
      - relation
      - to
  accessibility_rule_catalogs:
    path: research/accessibility-rule-catalogs.yaml
    required_top_level_fields:
      - project
      - updated
      - scope
      - act_rules_extracted_at
      - axe_rules_extracted_at
      - alfa_rules_extracted_at
      - rule_sets
    rule_set_required_fields:
      - id
      - title
      - provider
      - catalog_url
      - type
      - rule_count
      - rules
validation_notes:
  - Keep normative and informative content separated.
  - Prefer canonical W3C TR URLs for standards references.
  - Preserve stable IDs for downstream consumers.
  - Ensure all graph edge references resolve to known node IDs.
